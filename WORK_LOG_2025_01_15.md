# ğŸ“ ì‘ì—… ë¡œê·¸ - 2025ë…„ 1ì›” 15ì¼

## ğŸ¯ ì‘ì—… ë‚´ìš©: íŒŒì¼ ì—…ë¡œë“œ ì‹œìŠ¤í…œ ê°œì„ 

### 1. **ë¬¸ì œì **
- íŒŒì¼ë“¤ì´ Supabase Storageì™€ uploaded_files í…Œì´ë¸”ë¡œ ì´ì›í™”ë˜ì–´ ê´€ë¦¬
- ë§¤ë²ˆ uploaded_files í…Œì´ë¸”ì„ ë³„ë„ë¡œ ì¡°íšŒí•´ì•¼ í•˜ëŠ” ë¹„íš¨ìœ¨ì„±
- íŒŒì¼ ê´€ë ¨ ì •ë³´ê°€ ë¶„ì‚°ë˜ì–´ ìˆì–´ ê´€ë¦¬ ë³µì¡

### 2. **í•´ê²° ë°©ì•ˆ**
- market_research_requests í…Œì´ë¸”ì— JSONB ì»¬ëŸ¼ ì¶”ê°€í•˜ì—¬ íŒŒì¼ ì •ë³´ ì§ì ‘ ì €ì¥
- uploaded_files í…Œì´ë¸” ì˜ì¡´ì„± ì œê±°

### 3. **ì¶”ê°€í•œ ì»¬ëŸ¼ë“¤**
```sql
-- ê³ ê° ì‹ ì²­ ì‹œ ì—…ë¡œë“œ
application_photos JSONB  -- ì œí’ˆ ì‚¬ì§„
logo_files JSONB         -- ë¡œê³  íŒŒì¼
box_files JSONB          -- ë°•ìŠ¤/í¬ì¥ íŒŒì¼

-- ê¸°íƒ€
chat_files JSONB         -- ì±„íŒ… íŒŒì¼
reference_links JSONB    -- ì°¸ê³  ë§í¬

-- ê¸°ì¡´ (ìœ ì§€)
product_actual_photos JSONB -- ì¤‘êµ­ì§ì› ì—…ë¡œë“œ ì‚¬ì§„
```

### 4. **ìˆ˜ì •í•œ í˜ì´ì§€ë“¤**

#### `/application/market-research/page.tsx`
- Storage ì—…ë¡œë“œ í›„ URLì„ JSONB ì»¬ëŸ¼ì— ì§ì ‘ ì €ì¥
- uploaded_files í…Œì´ë¸” insert ì œê±°

#### `/staff/market-research/[reservationNumber]/page.tsx`
- uploaded_files ì¡°íšŒ ì œê±°
- data.application_photosì—ì„œ ì§ì ‘ ì½ê¸°
- files, applicationFiles state ì œê±°

#### `/dashboard/orders/market-research/[reservationNumber]/page.tsx`
- uploaded_files ì¡°íšŒ ì œê±°
- ì»¬ëŸ¼ ë°ì´í„°ë¥¼ í†µí•©í•˜ì—¬ files ë°°ì—´ ìƒì„±

### 5. **ì‚­ì œí•œ ë¶ˆí•„ìš”í•œ í˜ì´ì§€ë“¤**
- `/dashboard/market-research/` - ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²½ë¡œ
- `/dashboard/bulk-orders/`
- `/dashboard/sample-page/`
- `/dashboard/staff/`

### 6. **ê¸°íƒ€ ìˆ˜ì •ì‚¬í•­**
- ë ˆì´ì•„ì›ƒ ë„ˆë¹„ ì¡°ì • (market-research: 1600px)
- ì œí’ˆ ì •ë³´ í•„ë“œ ì¬ì •ë ¬
- ê°€ê²© ì •ë³´ íƒ­ êµ¬ì¡° ê°œì„ 
- ëª¨ë“  ê°€ê²© ì†Œìˆ˜ì  ì œê±° (í™˜ìœ¨ ì œì™¸)

## ğŸ”„ íŒŒì¼ ì²˜ë¦¬ íë¦„ ë³€ê²½

### Before:
```
ì‚¬ìš©ì ì—…ë¡œë“œ â†’ Storage â†’ uploaded_files í…Œì´ë¸” â†’ ë³„ë„ ì¡°íšŒ
```

### After:
```
ì‚¬ìš©ì ì—…ë¡œë“œ â†’ Storage â†’ market_research_requests JSONB ì»¬ëŸ¼ â†’ ì§ì ‘ ì½ê¸°
```

## ğŸ“Œ ë‹¤ìŒ ì‘ì—… ì˜ˆì •
- [ ] ì±„íŒ… íŒŒì¼ ì—…ë¡œë“œ ì‹œ chat_files ì»¬ëŸ¼ í™œìš©
- [ ] reference_links ê´€ë¦¬ UI ì¶”ê°€
- [ ] ê¸°ì¡´ uploaded_files ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰

## ğŸ’¡ ì¥ì 
1. **ì„±ëŠ¥ í–¥ìƒ**: JOIN ì—†ì´ ë‹¨ì¼ í…Œì´ë¸”ì—ì„œ ëª¨ë“  ì •ë³´ ì¡°íšŒ
2. **ì½”ë“œ ê°„ì†Œí™”**: ë³„ë„ íŒŒì¼ ì¡°íšŒ ë¡œì§ ì œê±°
3. **ìœ ì§€ë³´ìˆ˜ ìš©ì´**: íŒŒì¼ ì •ë³´ê°€ í•œ ê³³ì— ì§‘ì¤‘

## âš ï¸ ì£¼ì˜ì‚¬í•­
- Storageì˜ íŒŒì¼ì€ ê·¸ëŒ€ë¡œ ìœ ì§€ (URLë§Œ ì»¬ëŸ¼ì— ì €ì¥)
- ê¸°ì¡´ uploaded_files í…Œì´ë¸”ì€ ë‹¹ë¶„ê°„ ìœ ì§€ (ë°±ì—…ìš©)
- JSONB ì»¬ëŸ¼ì€ ë°°ì—´ í˜•íƒœë¡œ ë¬´ì œí•œ íŒŒì¼ ì¶”ê°€ ê°€ëŠ¥

---
*Commit: fd7fcdb45*