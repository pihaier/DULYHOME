# ğŸ”§ ìš´ì˜ ë§¤ë‰´ì–¼ (Operations Manual)
**ë‘ë¦¬ë¬´ì—­ ë””ì§€í„¸ ì „í™˜ í”Œë«í¼**

ë¬¸ì„œ ë²„ì „: v1.0  
ì‘ì„±ì¼: 2025-01-27  
ì‘ì„±ì: ìš´ì˜íŒ€  
ëŒ€ìƒ: ì‹œìŠ¤í…œ ê´€ë¦¬ì, ìš´ì˜íŒ€

---

## ğŸ“‘ ëª©ì°¨
1. [ìš´ì˜ ê°œìš”](#1-ìš´ì˜-ê°œìš”)
2. [ì¼ìƒ ìš´ì˜ ì—…ë¬´](#2-ì¼ìƒ-ìš´ì˜-ì—…ë¬´)
3. [ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§](#3-ì‹œìŠ¤í…œ-ëª¨ë‹ˆí„°ë§)
4. [ë°±ì—… ë° ë³µêµ¬](#4-ë°±ì—…-ë°-ë³µêµ¬)
5. [ì„±ëŠ¥ ê´€ë¦¬](#5-ì„±ëŠ¥-ê´€ë¦¬)
6. [ë³´ì•ˆ ê´€ë¦¬](#6-ë³´ì•ˆ-ê´€ë¦¬)
7. [ë¬¸ì œ í•´ê²° ê°€ì´ë“œ](#7-ë¬¸ì œ-í•´ê²°-ê°€ì´ë“œ)
8. [ì—…ë°ì´íŠ¸ ë° íŒ¨ì¹˜](#8-ì—…ë°ì´íŠ¸-ë°-íŒ¨ì¹˜)
9. [ì¬í•´ ë³µêµ¬](#9-ì¬í•´-ë³µêµ¬)
10. [ìš´ì˜ ì²´í¬ë¦¬ìŠ¤íŠ¸](#10-ìš´ì˜-ì²´í¬ë¦¬ìŠ¤íŠ¸)

---

## 1. ìš´ì˜ ê°œìš”

### 1.1 ì‹œìŠ¤í…œ êµ¬ì„±
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             ë‘ë¦¬ë¬´ì—­ ERP ì‹œìŠ¤í…œ                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Frontend: Next.js 15 on Vercel                â”‚
â”‚  Backend: Supabase (PostgreSQL + Realtime)     â”‚
â”‚  AI: OpenAI GPT-4                              â”‚
â”‚  Storage: Supabase Storage                     â”‚
â”‚  Monitoring: Vercel Analytics + Sentry         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 ìš´ì˜íŒ€ ì—­í• 
| ì—­í•  | ë‹´ë‹¹ì | ì£¼ìš” ì—…ë¬´ | ì—°ë½ì²˜ |
|------|--------|-----------|--------|
| ì‹œìŠ¤í…œ ê´€ë¦¬ì | ê¹€OO | ì¸í”„ë¼ ê´€ë¦¬ | 010-xxxx-xxxx |
| DB ê´€ë¦¬ì | ì´OO | ë°ì´í„°ë² ì´ìŠ¤ | 010-xxxx-xxxx |
| ë³´ì•ˆ ë‹´ë‹¹ì | ë°•OO | ë³´ì•ˆ ëª¨ë‹ˆí„°ë§ | 010-xxxx-xxxx |
| ìš´ì˜ ë§¤ë‹ˆì € | ìµœOO | ì „ì²´ ì´ê´„ | 010-xxxx-xxxx |

### 1.3 ìš´ì˜ ì‹œê°„
- **ì •ê·œ ìš´ì˜**: í‰ì¼ 09:00 - 18:00
- **ê¸´ê¸‰ ëŒ€ì‘**: 24/7 (ì˜¨ì½œ ë‹¹ì§)
- **ì •ê¸° ì ê²€**: ë§¤ì£¼ ì¼ìš”ì¼ 02:00 - 06:00

---

## 2. ì¼ìƒ ìš´ì˜ ì—…ë¬´

### 2.1 ì¼ì¼ ì ê²€ ì‚¬í•­
```bash
# ì‹œìŠ¤í…œ ìƒíƒœ í™•ì¸
â–¡ Vercel ëŒ€ì‹œë³´ë“œ í™•ì¸
â–¡ Supabase ëŒ€ì‹œë³´ë“œ í™•ì¸
â–¡ ì—ëŸ¬ ë¡œê·¸ í™•ì¸
â–¡ ì„±ëŠ¥ ë©”íŠ¸ë¦­ í™•ì¸
â–¡ ë°±ì—… ìƒíƒœ í™•ì¸
â–¡ ë””ìŠ¤í¬ ìš©ëŸ‰ í™•ì¸
â–¡ API ì‘ë‹µ ì‹œê°„ í™•ì¸
â–¡ ì‹¤ì‹œê°„ ì±„íŒ… ë™ì‘ í™•ì¸
```

### 2.2 ì£¼ê°„ ì ê²€ ì‚¬í•­
```bash
# ì£¼ê°„ ë¦¬í¬íŠ¸
â–¡ íŠ¸ë˜í”½ ë¶„ì„
â–¡ ì—ëŸ¬ íŠ¸ë Œë“œ ë¶„ì„
â–¡ ì„±ëŠ¥ ê°œì„  ì‚¬í•­ ë„ì¶œ
â–¡ ë³´ì•ˆ ì´ë²¤íŠ¸ ê²€í† 
â–¡ ìš©ëŸ‰ ê³„íš ê²€í† 
â–¡ ì—…ë°ì´íŠ¸ ê³„íš ìˆ˜ë¦½
```

### 2.3 ì›”ê°„ ì ê²€ ì‚¬í•­
```bash
# ì›”ê°„ ì¢…í•© ì ê²€
â–¡ SLA ë‹¬ì„±ë¥  í™•ì¸
â–¡ ìš©ëŸ‰ ì¦ì„¤ í•„ìš”ì„± ê²€í† 
â–¡ ë³´ì•ˆ ê°ì‚¬ ìˆ˜í–‰
â–¡ ë°±ì—… ë³µêµ¬ í…ŒìŠ¤íŠ¸
â–¡ ì¬í•´ ë³µêµ¬ í›ˆë ¨
â–¡ ìš´ì˜ ë¬¸ì„œ ì—…ë°ì´íŠ¸
```

---

## 3. ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§

### 3.1 ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ

#### Vercel Dashboard
```
URL: https://vercel.com/[team]/[project]

ì£¼ìš” í™•ì¸ ì‚¬í•­:
- Function ì‹¤í–‰ ì‹œê°„
- Edge ë„¤íŠ¸ì›Œí¬ ìƒíƒœ
- ë¹Œë“œ ìƒíƒœ
- ì—ëŸ¬ìœ¨
- íŠ¸ë˜í”½ íŒ¨í„´
```

#### Supabase Dashboard
```
URL: https://app.supabase.com/project/[project-id]

ì£¼ìš” í™•ì¸ ì‚¬í•­:
- ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ìˆ˜
- ì¿¼ë¦¬ ì„±ëŠ¥
- ìŠ¤í† ë¦¬ì§€ ì‚¬ìš©ëŸ‰
- Realtime ì—°ê²° ìƒíƒœ
- API ìš”ì²­ ìˆ˜
```

### 3.2 ì•Œë¦¼ ì„¤ì •
```yaml
# ì•Œë¦¼ ê·œì¹™
alerts:
  - name: "High Error Rate"
    condition: error_rate > 5%
    action: 
      - slack: "#ops-alerts"
      - email: "ops@duly.co.kr"
    
  - name: "Slow Response"
    condition: response_time > 3s
    action:
      - slack: "#ops-alerts"
      - sms: "on-call"
    
  - name: "Database Connection"
    condition: db_connections > 80%
    action:
      - email: "dba@duly.co.kr"
      - scale: "auto"
```

### 3.3 ë¡œê·¸ ê´€ë¦¬
```bash
# ë¡œê·¸ ìˆ˜ì§‘ ìœ„ì¹˜
- Application Logs: Vercel Functions Logs
- Database Logs: Supabase Dashboard > Logs
- Error Logs: Sentry Dashboard
- Access Logs: Vercel Analytics

# ë¡œê·¸ ë³´ê´€ ì •ì±…
- ì‹¤ì‹œê°„ ë¡œê·¸: 7ì¼
- ì—ëŸ¬ ë¡œê·¸: 30ì¼
- ê°ì‚¬ ë¡œê·¸: 1ë…„
- ë³´ì•ˆ ë¡œê·¸: 3ë…„
```

---

## 4. ë°±ì—… ë° ë³µêµ¬

### 4.1 ë°±ì—… ì •ì±…
```bash
# ë°±ì—… ìŠ¤ì¼€ì¤„
ë°ì´í„°ë² ì´ìŠ¤:
- ì „ì²´ ë°±ì—…: ë§¤ì¼ 03:00
- ì¦ë¶„ ë°±ì—…: ë§¤ 4ì‹œê°„
- íŠ¸ëœì­ì…˜ ë¡œê·¸: ì‹¤ì‹œê°„

íŒŒì¼ ìŠ¤í† ë¦¬ì§€:
- ì „ì²´ ë°±ì—…: ë§¤ì£¼ ì¼ìš”ì¼
- ì¦ë¶„ ë°±ì—…: ë§¤ì¼

ì½”ë“œ ì €ì¥ì†Œ:
- Git ìë™ ë°±ì—…
- íƒœê·¸ë³„ ì•„ì¹´ì´ë¹™
```

### 4.2 ë°±ì—… ì ˆì°¨
```bash
# Supabase ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—…
# 1. ìˆ˜ë™ ë°±ì—… ìƒì„±
supabase db dump -f backup_$(date +%Y%m%d_%H%M%S).sql

# 2. ë°±ì—… í™•ì¸
ls -la *.sql

# 3. ì•ˆì „í•œ ì €ì¥ì†Œë¡œ ì´ë™
aws s3 cp backup_*.sql s3://duly-backups/db/

# 4. ë°±ì—… ë¬´ê²°ì„± ê²€ì¦
pg_restore --list backup_*.sql
```

### 4.3 ë³µêµ¬ ì ˆì°¨
```bash
# ë°ì´í„°ë² ì´ìŠ¤ ë³µêµ¬
# 1. ì„œë¹„ìŠ¤ ì¤‘ë‹¨ ê³µì§€
echo "Maintenance mode ON"

# 2. í˜„ì¬ ìƒíƒœ ë°±ì—…
supabase db dump -f current_state.sql

# 3. ë³µêµ¬ ì‹¤í–‰
supabase db reset
psql -f backup_20250127.sql

# 4. ë°ì´í„° ê²€ì¦
SELECT COUNT(*) FROM inspection_applications;

# 5. ì„œë¹„ìŠ¤ ì¬ê°œ
echo "Maintenance mode OFF"
```

### 4.4 ë³µêµ¬ ì‹œê°„ ëª©í‘œ (RTO/RPO)
| êµ¬ë¶„ | RTO | RPO | ë¹„ê³  |
|------|-----|-----|------|
| ì „ì²´ ì‹œìŠ¤í…œ | 4ì‹œê°„ | 1ì‹œê°„ | ì¬í•´ ë³µêµ¬ |
| ë°ì´í„°ë² ì´ìŠ¤ | 2ì‹œê°„ | 15ë¶„ | íŠ¸ëœì­ì…˜ ë¡œê·¸ |
| íŒŒì¼ ìŠ¤í† ë¦¬ì§€ | 1ì‹œê°„ | 4ì‹œê°„ | ì¦ë¶„ ë°±ì—… |
| ì• í”Œë¦¬ì¼€ì´ì…˜ | 30ë¶„ | 0ë¶„ | ì½”ë“œ ì¬ë°°í¬ |

---

## 5. ì„±ëŠ¥ ê´€ë¦¬

### 5.1 ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§
```typescript
// ì„±ëŠ¥ ë©”íŠ¸ë¦­ ìˆ˜ì§‘
const performanceMetrics = {
  // í˜ì´ì§€ ë¡œë“œ ì‹œê°„
  pageLoad: {
    target: 2000, // 2ì´ˆ
    warning: 3000, // 3ì´ˆ
    critical: 5000 // 5ì´ˆ
  },
  
  // API ì‘ë‹µ ì‹œê°„
  apiResponse: {
    target: 500, // 500ms
    warning: 1000, // 1ì´ˆ
    critical: 3000 // 3ì´ˆ
  },
  
  // ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬
  dbQuery: {
    target: 100, // 100ms
    warning: 500, // 500ms
    critical: 1000 // 1ì´ˆ
  }
}
```

### 5.2 ì„±ëŠ¥ ìµœì í™”

#### ë°ì´í„°ë² ì´ìŠ¤ ìµœì í™”
```sql
-- ì¸ë±ìŠ¤ ìƒíƒœ í™•ì¸
SELECT 
  schemaname,
  tablename,
  indexname,
  idx_scan,
  idx_tup_read,
  idx_tup_fetch
FROM pg_stat_user_indexes
ORDER BY idx_scan;

-- ëŠë¦° ì¿¼ë¦¬ í™•ì¸
SELECT 
  query,
  calls,
  total_time,
  mean_time,
  max_time
FROM pg_stat_statements
WHERE mean_time > 100
ORDER BY mean_time DESC;

-- ì¸ë±ìŠ¤ ì¶”ê°€
CREATE INDEX idx_applications_status 
ON inspection_applications(status, created_at);
```

#### ìºì‹± ì „ëµ
```typescript
// Redis ìºì‹± ì„¤ì •
const cacheConfig = {
  // ì •ì  ë°ì´í„°
  staticData: {
    ttl: 86400, // 24ì‹œê°„
    keys: ['company_list', 'service_types']
  },
  
  // ì‚¬ìš©ì ì„¸ì…˜
  session: {
    ttl: 3600, // 1ì‹œê°„
    keys: ['user_profile', 'permissions']
  },
  
  // API ì‘ë‹µ
  apiResponse: {
    ttl: 300, // 5ë¶„
    keys: ['dashboard_stats', 'recent_applications']
  }
}
```

### 5.3 ìš©ëŸ‰ ê³„íš
```yaml
# ì›”ë³„ ì¦ê°€ìœ¨ ëª¨ë‹ˆí„°ë§
capacity_metrics:
  users:
    current: 1000
    growth_rate: 10% # ì›”
    threshold: 80%
    
  storage:
    current: 500GB
    growth_rate: 50GB # ì›”
    threshold: 90%
    
  database:
    current: 100GB
    growth_rate: 20GB # ì›”
    threshold: 85%
```

---

## 6. ë³´ì•ˆ ê´€ë¦¬

### 6.1 ë³´ì•ˆ ì ê²€ í•­ëª©
```bash
# ì¼ì¼ ë³´ì•ˆ ì ê²€
â–¡ ë¹„ì •ìƒ ë¡œê·¸ì¸ ì‹œë„ í™•ì¸
â–¡ API í‚¤ ì‚¬ìš© íŒ¨í„´ ë¶„ì„
â–¡ íŒŒì¼ ì—…ë¡œë“œ ë¡œê·¸ ê²€í† 
â–¡ ê¶Œí•œ ë³€ê²½ ì´ë ¥ í™•ì¸
â–¡ ë³´ì•ˆ íŒ¨ì¹˜ í™•ì¸

# ì£¼ê°„ ë³´ì•ˆ ì ê²€
â–¡ ì·¨ì•½ì  ìŠ¤ìº” ì‹¤í–‰
â–¡ SSL ì¸ì¦ì„œ ë§Œë£Œì¼ í™•ì¸
â–¡ ë°©í™”ë²½ ê·œì¹™ ê²€í† 
â–¡ ì ‘ê·¼ ê¶Œí•œ ê°ì‚¬
â–¡ ë³´ì•ˆ ë¡œê·¸ ë¶„ì„
```

### 6.2 ì ‘ê·¼ ì œì–´
```typescript
// IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ê´€ë¦¬
const allowedIPs = {
  office: ['211.xxx.xxx.0/24'],
  admin: ['1.2.3.4', '5.6.7.8'],
  api: ['api.partner.com']
}

// ì—­í• ë³„ ê¶Œí•œ ë§¤íŠ¸ë¦­ìŠ¤
const permissions = {
  admin: ['*'],
  korean_team: ['read', 'write', 'delete'],
  chinese_staff: ['read', 'write'],
  customer: ['read:own', 'write:own']
}
```

### 6.3 ë³´ì•ˆ ì‚¬ê³  ëŒ€ì‘
```
ë³´ì•ˆ ì‚¬ê³  ëŒ€ì‘ ì ˆì°¨:

1. íƒì§€ (5ë¶„)
   â””â”€ ì•Œë¦¼ í™•ì¸ â†’ ì‹¬ê°ë„ íŒë‹¨

2. ê²©ë¦¬ (15ë¶„)
   â””â”€ ì˜í–¥ ë²”ìœ„ ì°¨ë‹¨ â†’ ì¦ê±° ë³´ì¡´

3. ë¶„ì„ (30ë¶„)
   â””â”€ ì›ì¸ íŒŒì•… â†’ ëŒ€ì‘ ë°©ì•ˆ ìˆ˜ë¦½

4. ë³µêµ¬ (1ì‹œê°„)
   â””â”€ ì‹œìŠ¤í…œ ë³µêµ¬ â†’ ì •ìƒ í™•ì¸

5. ì‚¬í›„ ì¡°ì¹˜ (24ì‹œê°„)
   â””â”€ ë³´ê³ ì„œ ì‘ì„± â†’ ì¬ë°œ ë°©ì§€
```

---

## 7. ë¬¸ì œ í•´ê²° ê°€ì´ë“œ

### 7.1 ì¼ë°˜ì ì¸ ë¬¸ì œì™€ í•´ê²°

#### ì„œë¹„ìŠ¤ ì ‘ì† ë¶ˆê°€
```bash
# 1. Vercel ìƒíƒœ í™•ì¸
curl -I https://erp.duly.co.kr

# 2. DNS í™•ì¸
nslookup erp.duly.co.kr

# 3. SSL ì¸ì¦ì„œ í™•ì¸
openssl s_client -connect erp.duly.co.kr:443

# 4. Vercel ë°°í¬ ìƒíƒœ
vercel ls
vercel inspect [url]
```

#### ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì˜¤ë¥˜
```sql
-- 1. ì—°ê²° ìˆ˜ í™•ì¸
SELECT count(*) FROM pg_stat_activity;

-- 2. ì¥ê¸° ì‹¤í–‰ ì¿¼ë¦¬ í™•ì¸
SELECT pid, now() - pg_stat_activity.query_start AS duration, query
FROM pg_stat_activity
WHERE (now() - pg_stat_activity.query_start) > interval '5 minutes';

-- 3. ì—°ê²° ì¢…ë£Œ
SELECT pg_terminate_backend(pid)
FROM pg_stat_activity
WHERE pid <> pg_backend_pid();
```

#### ì„±ëŠ¥ ì €í•˜
```bash
# 1. CPU/ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥  í™•ì¸
# Vercel Dashboardì—ì„œ í™•ì¸

# 2. ëŠë¦° API ì—”ë“œí¬ì¸íŠ¸ í™•ì¸
# Vercel Analyticsì—ì„œ í™•ì¸

# 3. ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ ìµœì í™”
# Supabase Dashboard > Query Performance

# 4. ìºì‹œ ì´ˆê¸°í™”
# Vercel Edge Cache ì´ˆê¸°í™”
```

### 7.2 ê¸´ê¸‰ ëŒ€ì‘ ì—°ë½ë§
```
1ì°¨ ëŒ€ì‘: ìš´ì˜íŒ€ ë‹¹ì§ì (010-xxxx-xxxx)
2ì°¨ ëŒ€ì‘: ìš´ì˜ ë§¤ë‹ˆì € (010-xxxx-xxxx)
3ì°¨ ëŒ€ì‘: CTO (010-xxxx-xxxx)

ì™¸ë¶€ ì§€ì›:
- Vercel Support: support@vercel.com
- Supabase Support: support@supabase.com
```

---

## 8. ì—…ë°ì´íŠ¸ ë° íŒ¨ì¹˜

### 8.1 ì—…ë°ì´íŠ¸ ì •ì±…
```yaml
update_policy:
  security_patches:
    schedule: "ì¦‰ì‹œ ì ìš©"
    approval: "ìš´ì˜íŒ€ì¥"
    
  minor_updates:
    schedule: "ì£¼ê°„ ì ê²€ ì‹œ"
    approval: "ìš´ì˜íŒ€"
    
  major_updates:
    schedule: "ì›”ê°„ ì ê²€ ì‹œ"
    approval: "CTO"
```

### 8.2 ì—…ë°ì´íŠ¸ ì ˆì°¨
```bash
# 1. ì—…ë°ì´íŠ¸ ì¤€ë¹„
git pull origin main
cd nextjs
yarn outdated

# 2. ì˜ì¡´ì„± ì—…ë°ì´íŠ¸
yarn upgrade-interactive

# 3. í…ŒìŠ¤íŠ¸ ì‹¤í–‰
yarn test
yarn build

# 4. ìŠ¤í…Œì´ì§• ë°°í¬
vercel --target staging

# 5. ê²€ì¦ í›„ í”„ë¡œë•ì…˜ ë°°í¬
vercel --prod
```

### 8.3 ë¡¤ë°± ê³„íš
```bash
# ë¹ ë¥¸ ë¡¤ë°± (Vercel)
vercel rollback [deployment-url]

# ë°ì´í„°ë² ì´ìŠ¤ ë¡¤ë°±
supabase migrations down
supabase migrations up [previous-version]
```

---

## 9. ì¬í•´ ë³µêµ¬

### 9.1 ì¬í•´ ì‹œë‚˜ë¦¬ì˜¤
| ì‹œë‚˜ë¦¬ì˜¤ | ì˜í–¥ë„ | RTO | ëŒ€ì‘ ì ˆì°¨ |
|---------|--------|-----|-----------|
| Vercel ì¥ì•  | ë†’ìŒ | 30ë¶„ | ëŒ€ì²´ ë¦¬ì „ í™œì„±í™” |
| Supabase ì¥ì•  | ì¹˜ëª…ì  | 2ì‹œê°„ | ë°±ì—… DB í™œì„±í™” |
| DDoS ê³µê²© | ì¤‘ê°„ | 15ë¶„ | WAF ê·œì¹™ ì ìš© |
| ë°ì´í„° ìœ ì‹¤ | ì¹˜ëª…ì  | 4ì‹œê°„ | ë°±ì—… ë³µêµ¬ |

### 9.2 ì¬í•´ ë³µêµ¬ ì ˆì°¨
```
1. ìƒí™© íŒŒì•… (10ë¶„)
   â”œâ”€ ì˜í–¥ ë²”ìœ„ í™•ì¸
   â”œâ”€ ì‹¬ê°ë„ ê²°ì •
   â””â”€ ëŒ€ì‘íŒ€ ì†Œì§‘

2. ì„ì‹œ ì¡°ì¹˜ (30ë¶„)
   â”œâ”€ ì„œë¹„ìŠ¤ ê²©ë¦¬
   â”œâ”€ ê³µì§€ì‚¬í•­ ê²Œì‹œ
   â””â”€ ëŒ€ì²´ ê²½ë¡œ í™œì„±í™”

3. ë³µêµ¬ ì‘ì—… (2ì‹œê°„)
   â”œâ”€ ë°±ì—… ë°ì´í„° ì¤€ë¹„
   â”œâ”€ ì‹œìŠ¤í…œ ë³µêµ¬
   â””â”€ ë°ì´í„° ê²€ì¦

4. ì„œë¹„ìŠ¤ ì¬ê°œ (30ë¶„)
   â”œâ”€ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
   â”œâ”€ ì ì§„ì  ì˜¤í”ˆ
   â””â”€ ëª¨ë‹ˆí„°ë§ ê°•í™”

5. ì‚¬í›„ ì²˜ë¦¬ (24ì‹œê°„)
   â”œâ”€ ì›ì¸ ë¶„ì„
   â”œâ”€ ê°œì„  ì‚¬í•­ ë„ì¶œ
   â””â”€ ë¬¸ì„œ ì—…ë°ì´íŠ¸
```

---

## 10. ìš´ì˜ ì²´í¬ë¦¬ìŠ¤íŠ¸

### 10.1 ì¼ì¼ ì²´í¬ë¦¬ìŠ¤íŠ¸
```markdown
## ì˜¤ì „ ì ê²€ (09:00)
- [ ] ì•¼ê°„ ì•Œë¦¼ í™•ì¸
- [ ] ì‹œìŠ¤í…œ ìƒíƒœ ëŒ€ì‹œë³´ë“œ í™•ì¸
- [ ] ë°±ì—… ì™„ë£Œ ì—¬ë¶€ í™•ì¸
- [ ] ì—ëŸ¬ ë¡œê·¸ ê²€í† 
- [ ] ì„±ëŠ¥ ë©”íŠ¸ë¦­ í™•ì¸

## ì˜¤í›„ ì ê²€ (14:00)
- [ ] ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
- [ ] ì‚¬ìš©ì ë¬¸ì˜ ëŒ€ì‘
- [ ] ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ë¥  í™•ì¸
- [ ] ë³´ì•ˆ ì´ë²¤íŠ¸ í™•ì¸

## í‡´ê·¼ ì „ ì ê²€ (18:00)
- [ ] ì¼ì¼ ë¦¬í¬íŠ¸ ì‘ì„±
- [ ] ì•¼ê°„ ë‹¹ì§ ì¸ìˆ˜ì¸ê³„
- [ ] ì˜ˆì •ëœ ì‘ì—… í™•ì¸
- [ ] ì•Œë¦¼ ì„¤ì • í™•ì¸
```

### 10.2 ì£¼ê°„ ì²´í¬ë¦¬ìŠ¤íŠ¸
```markdown
## ì›”ìš”ì¼
- [ ] ì£¼ë§ ì´ë²¤íŠ¸ ë¶„ì„
- [ ] ì£¼ê°„ ê³„íš ìˆ˜ë¦½

## í™”ìš”ì¼
- [ ] ë³´ì•ˆ íŒ¨ì¹˜ í™•ì¸
- [ ] ì„±ëŠ¥ ë¶„ì„ ë¦¬í¬íŠ¸

## ìˆ˜ìš”ì¼
- [ ] ë°±ì—… í…ŒìŠ¤íŠ¸
- [ ] ìš©ëŸ‰ ì‚¬ìš©ë¥  ì ê²€

## ëª©ìš”ì¼
- [ ] ì—…ë°ì´íŠ¸ ê³„íš ê²€í† 
- [ ] ë¬¸ì„œ ì—…ë°ì´íŠ¸

## ê¸ˆìš”ì¼
- [ ] ì£¼ê°„ ë¦¬í¬íŠ¸ ì‘ì„±
- [ ] ì°¨ì£¼ ì¤€ë¹„ì‚¬í•­ ì ê²€
```

---

## 11. ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ì „ëµ â­ (2025-01-27 ì¶”ê°€)

### 11.1 í•µì‹¬ ì„±ëŠ¥ ì§€í‘œ (KPI)

#### ì• í”Œë¦¬ì¼€ì´ì…˜ ì„±ëŠ¥
```typescript
// ëª©í‘œ ì§€í‘œ
const performanceTargets = {
  // ì‘ë‹µ ì‹œê°„
  api: {
    p50: 200,  // ms
    p95: 500,  // ms
    p99: 1000, // ms
  },
  // í˜ì´ì§€ ë¡œë“œ
  web: {
    FCP: 1.5,  // First Contentful Paint (ì´ˆ)
    LCP: 2.5,  // Largest Contentful Paint (ì´ˆ)
    FID: 100,  // First Input Delay (ms)
    CLS: 0.1,  // Cumulative Layout Shift
  },
  // ê°€ìš©ì„±
  uptime: 99.9,  // %
};
```

#### ë°ì´í„°ë² ì´ìŠ¤ ì„±ëŠ¥
```sql
-- RLS ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§
SELECT 
  schemaname,
  tablename,
  policyname,
  avg_time,
  calls
FROM pg_stat_statements
JOIN pg_policies ON true
WHERE query LIKE '%' || tablename || '%'
ORDER BY avg_time DESC
LIMIT 10;

-- ëŠë¦° ì¿¼ë¦¬ í™•ì¸
SELECT 
  query,
  mean_time,
  calls,
  total_time
FROM pg_stat_statements
WHERE mean_time > 100  -- 100ms ì´ìƒ
ORDER BY mean_time DESC;
```

### 11.2 ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ì„¤ì •

#### Sentry êµ¬ì„±
```typescript
// sentry.client.config.ts
import * as Sentry from "@sentry/nextjs";

Sentry.init({
  dsn: process.env.NEXT_PUBLIC_SENTRY_DSN,
  tracesSampleRate: 1.0,
  environment: process.env.NODE_ENV,
  
  // ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§
  integrations: [
    new Sentry.BrowserTracing({
      routingInstrumentation: Sentry.nextRouterInstrumentation,
    }),
  ],
  
  // ë¯¼ê°í•œ ì •ë³´ í•„í„°ë§
  beforeSend(event, hint) {
    // ê°œì¸ì •ë³´ ì œê±°
    if (event.user) {
      delete event.user.email;
      delete event.user.ip_address;
    }
    return event;
  },
});
```

#### Custom Metrics
```typescript
// lib/monitoring.ts
export function trackPerformance(
  metricName: string,
  value: number,
  tags?: Record<string, string>
) {
  // Vercel Analytics
  if (typeof window !== 'undefined' && window.analytics) {
    window.analytics.track(metricName, {
      value,
      ...tags,
    });
  }
  
  // Sentry
  const transaction = Sentry.getCurrentHub()
    .getScope()
    .getTransaction();
    
  if (transaction) {
    transaction.setMeasurement(metricName, value, 'millisecond');
  }
}

// ì‚¬ìš© ì˜ˆì‹œ
export async function fetchWithMetrics(url: string) {
  const start = performance.now();
  
  try {
    const response = await fetch(url);
    const duration = performance.now() - start;
    
    trackPerformance('api.response_time', duration, {
      endpoint: url,
      status: response.status.toString(),
    });
    
    return response;
  } catch (error) {
    trackPerformance('api.error', 1, {
      endpoint: url,
      error: error.message,
    });
    throw error;
  }
}
```

### 11.3 ì•Œë¦¼ ì„¤ì •

#### ì„ê³„ê°’ ê¸°ë°˜ ì•Œë¦¼
```yaml
# monitoring-alerts.yml
alerts:
  - name: High API Response Time
    condition: api.p95 > 1000ms
    duration: 5m
    channels: [slack, email]
    
  - name: Database Connection Pool Exhausted
    condition: db.connections.active >= db.connections.max * 0.9
    duration: 1m
    channels: [slack, pagerduty]
    
  - name: High Error Rate
    condition: error_rate > 5%
    duration: 3m
    channels: [slack, email, sms]
    
  - name: Low Disk Space
    condition: disk.usage > 90%
    duration: 10m
    channels: [email]
```

### 11.4 ëŒ€ì‹œë³´ë“œ êµ¬ì„±

#### Grafana ëŒ€ì‹œë³´ë“œ ì˜ˆì‹œ
```json
{
  "dashboard": {
    "title": "Duly ERP Monitoring",
    "panels": [
      {
        "title": "API Response Time",
        "targets": [{
          "expr": "histogram_quantile(0.95, api_response_time)"
        }]
      },
      {
        "title": "Active Users",
        "targets": [{
          "expr": "count(distinct(user_id))"
        }]
      },
      {
        "title": "Error Rate",
        "targets": [{
          "expr": "rate(http_requests_total{status=~'5..'}[5m])"
        }]
      },
      {
        "title": "Database Performance",
        "targets": [{
          "expr": "avg(pg_stat_statements_mean_time)"
        }]
      }
    ]
  }
}
```

---

## ğŸ“ ë¶€ë¡

### A. ìœ ìš©í•œ ìŠ¤í¬ë¦½íŠ¸
```bash
#!/bin/bash
# health-check.sh
# ì‹œìŠ¤í…œ ìƒíƒœ ì¢…í•© ì ê²€

echo "=== ì‹œìŠ¤í…œ ìƒíƒœ ì ê²€ ==="
echo "ì‹œê°„: $(date)"

# API ìƒíƒœ
echo -n "API ìƒíƒœ: "
curl -s -o /dev/null -w "%{http_code}" https://erp.duly.co.kr/api/health

# ë°ì´í„°ë² ì´ìŠ¤ ìƒíƒœ
echo -n "DB ìƒíƒœ: "
supabase status | grep "API URL"

# ë””ìŠ¤í¬ ì‚¬ìš©ë¥ 
echo "ìŠ¤í† ë¦¬ì§€: "
# Supabase Dashboardì—ì„œ í™•ì¸

echo "=== ì ê²€ ì™„ë£Œ ==="
```

### B. ë¬¸ì œ í•´ê²° ì°¸ê³  ìë£Œ
- Vercel ë¬¸ì„œ: https://vercel.com/docs
- Supabase ë¬¸ì„œ: https://supabase.com/docs
- Next.js ë¬¸ì„œ: https://nextjs.org/docs
- ë‚´ë¶€ ìœ„í‚¤: https://wiki.duly.co.kr/ops

### C. ìš´ì˜ ë„êµ¬
- ëª¨ë‹ˆí„°ë§: Vercel Analytics, Supabase Dashboard
- ë¡œê·¸ ë¶„ì„: Sentry, Vercel Logs
- ì•Œë¦¼: Slack, Email, SMS
- ë¬¸ì„œ: Notion, GitHub Wiki

---

**ë¬¸ì„œ ìŠ¹ì¸**

| ì—­í•  | ì´ë¦„ | ì„œëª… | ë‚ ì§œ |
|------|------|------|------|
| ì‘ì„± | ìš´ì˜íŒ€ | | 2025-01-27 |
| ê²€í†  | ìš´ì˜ ë§¤ë‹ˆì € | | |
| ìŠ¹ì¸ | CTO | | |

---

*ë³¸ ë¬¸ì„œëŠ” ë‘ë¦¬ë¬´ì—­ ë””ì§€í„¸ ì „í™˜ í”Œë«í¼ì˜ ìš´ì˜ ê°€ì´ë“œì…ë‹ˆë‹¤.*