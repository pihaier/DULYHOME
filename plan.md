â— ğŸ“Š ì •í™•í•œ ë¬¸ì œ ë¶„ì„ ë³´ê³ ì„œ

  ğŸ” ì „ì²´ í˜„í™©

  - ì´ ê²½ê³  ìˆ˜: 1,208ê°œ
  - ì˜í–¥ ë°›ëŠ” íŒŒì¼: ì•½ 200ê°œ+

  ğŸ“ˆ ë¬¸ì œ ìœ í˜•ë³„ ë¶„í¬

  | ë¬¸ì œ ìœ í˜•           | ê°œìˆ˜   | ë¹„ìœ¨    | ì‹¬ê°ë„   | ìˆ˜ì • ë‚œì´ë„  |
  |-----------------|------|-------|-------|---------|
  | unused-vars     | 402ê°œ | 33.3% | ğŸŸ¡ ë‚®ìŒ | â­ ì‰¬ì›€    |
  | no-explicit-any | 356ê°œ | 29.5% | ğŸŸ  ì¤‘ê°„ | â­â­â­ ì–´ë ¤ì›€ |
  | no-console      | 300ê°œ | 24.8% | ğŸŸ¡ ë‚®ìŒ | â­ ì‰¬ì›€    |
  | no-alert        | 62ê°œ  | 5.1%  | ğŸ”´ ë†’ìŒ | â­â­ ì¤‘ê°„   |
  | exhaustive-deps | 37ê°œ  | 3.1%  | ğŸ”´ ë†’ìŒ | â­â­ ì¤‘ê°„   |
  | ê¸°íƒ€              | 51ê°œ  | 4.2%  | ğŸŸ¡ ë‚®ìŒ | â­â­ ì¤‘ê°„   |

  ğŸ¯ ê°€ì¥ ë¬¸ì œê°€ ë§ì€ íŒŒì¼ TOP 10

  1. orders/[reservationNumber]/page.tsx - 74ê°œ ê²½ê³ 
  2. staff/page.tsx - 62ê°œ ê²½ê³ 
  3. calculators/page.tsx - 28ê°œ ê²½ê³ 
  4. profile/ShippingInfoTab.tsx - 25ê°œ ê²½ê³ 
  5. market-research/[reservationNumber]/page-complete.tsx - 25ê°œ ê²½ê³ 
  6. inspection/page.tsx - 21ê°œ ê²½ê³ 
  7. CustomerSupportListDB.tsx - 20ê°œ ê²½ê³ 
  8. TableRowDragDrop.tsx - 19ê°œ ê²½ê³ 
  9. orders/inspection/[reservationNumber]/page.tsx - 18ê°œ ê²½ê³ 
  10. useChat.tsx - 18ê°œ ê²½ê³ 

  ğŸ—ºï¸ ì²´ê³„ì ì¸ ê°œì„  ê³„íš

  Phase 1: Quick Wins (1ì¼)

  ëª©í‘œ: 300ê°œ ê²½ê³  ì œê±°

  1. console.log ì¼ê´„ ì œê±° (300ê°œ)
  # ìë™ ì œê±° ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
  find . -name "*.tsx" -o -name "*.ts" | xargs sed -i '/console\.log/d'
  2. ë¯¸ì‚¬ìš© import ìë™ ì •ë¦¬ (ì•½ 100ê°œ)
  npm run lint -- --fix

  Phase 2: UX ê°œì„  (3ì¼)

  ëª©í‘œ: 62ê°œ alert ì œê±°

  1. alert â†’ Toast í†µì§€ë¡œ ë³€ê²½
    - Material-UI Snackbar ì»´í¬ë„ŒíŠ¸ í™œìš©
    - ì „ì—­ Toast ì‹œìŠ¤í…œ êµ¬ì¶•

  Phase 3: ì½”ë“œ ì •ë¦¬ (1ì£¼)

  ëª©í‘œ: 300ê°œ unused-vars ì œê±°

  1. íŒŒì¼ë³„ ìˆœì°¨ ì •ë¦¬
    - ìƒìœ„ 10ê°œ íŒŒì¼ë¶€í„° ì‹œì‘
    - ë¯¸ì‚¬ìš© ë³€ìˆ˜/í•¨ìˆ˜ ì œê±°
    - í•„ìš”ì‹œ _ prefix ì¶”ê°€

  Phase 4: íƒ€ì… ì•ˆì •ì„± (2ì£¼)

  ëª©í‘œ: 356ê°œ any íƒ€ì… ì œê±°

  1. ì ì§„ì  íƒ€ì… ì •ì˜
    - API ì‘ë‹µ íƒ€ì… ì •ì˜
    - ì»´í¬ë„ŒíŠ¸ Props íƒ€ì… ì •ì˜
    - í•¨ìˆ˜ ë§¤ê°œë³€ìˆ˜ íƒ€ì… ì •ì˜

  Phase 5: React ìµœì í™” (1ì£¼)

  ëª©í‘œ: 37ê°œ Hook ì˜ì¡´ì„± ìˆ˜ì •

  1. useEffect ì˜ì¡´ì„± ìˆ˜ì •
    - useCallback í™œìš©
    - ì˜ì¡´ì„± ë°°ì—´ ì •ë¦¬

  ğŸ“‹ ì¦‰ì‹œ ì‹¤í–‰ ê°€ëŠ¥í•œ ì•¡ì…˜

  ì˜¤ëŠ˜ í•  ì¼ (Day 1)

  # 1. console.log ì œê±°
  cd nextjs_flexy
  npm run lint -- --fix

  # 2. ê°€ì¥ ë¬¸ì œ ë§ì€ íŒŒì¼ ìˆ˜ì •
  # orders/[reservationNumber]/page.tsx (74ê°œ)
  # staff/page.tsx (62ê°œ)

  ìš°ì„ ìˆœìœ„ ë§¤íŠ¸ë¦­ìŠ¤

  ë†’ì€ ì˜í–¥ + ì‰¬ìš´ ìˆ˜ì •:
  â”œâ”€â”€ console.log ì œê±° âœ…
  â”œâ”€â”€ unused import ì œê±° âœ…
  â””â”€â”€ alert â†’ toast ë³€ê²½ âœ…

  ë†’ì€ ì˜í–¥ + ì–´ë ¤ìš´ ìˆ˜ì •:
  â”œâ”€â”€ any íƒ€ì… ì œê±° â³
  â””â”€â”€ React Hook ì˜ì¡´ì„± â³

  ë‚®ì€ ì˜í–¥ + ì‰¬ìš´ ìˆ˜ì •:
  â”œâ”€â”€ unused variables ì •ë¦¬ â³
  â””â”€â”€ ì½”ë“œ í¬ë§·íŒ… â³

  ğŸ¯ ëª©í‘œ ë©”íŠ¸ë¦­ìŠ¤

  | ì£¼ì°¨     | ëª©í‘œ                           | ì˜ˆìƒ ê²½ê³  ìˆ˜     | ê°ì†Œìœ¨  |
  |--------|------------------------------|-------------|------|
  | Week 1 | console.log + unused imports | 908ê°œ (-300) | -25% |
  | Week 2 | alert ì œê±°                     | 846ê°œ (-62)  | -30% |
  | Week 3 | unused vars ì •ë¦¬               | 546ê°œ (-300) | -55% |
  | Week 4 | any íƒ€ì… 50% ì œê±°                | 368ê°œ (-178) | -70% |
  | Week 5 | ë‚˜ë¨¸ì§€ ì •ë¦¬                       | <200ê°œ       | -85% |




  â— ğŸ”’ CI/CD ë³´ì•ˆ ê²Œì´íŠ¸ ìƒì„¸ ì„¤ëª…

  1ï¸âƒ£ í™˜ê²½ë³€ìˆ˜ ê²€ì¦ (ENV Gate)

  ì™œ í•„ìš”í•œê°€?

  í˜„ì¬ ìƒí™©:
  - OPENAI_API_KEYê°€ ì—†ì–´ë„ ë¹Œë“œ/ë°°í¬ê°€ ì„±ê³µí•¨
  - ê³ ê°ì´ ì‚¬ì´íŠ¸ ì ‘ì† â†’ ë²ˆì—­ ë²„íŠ¼ í´ë¦­ â†’ 500 ì—ëŸ¬ â†’ ê³ ê° ì´íƒˆ

  ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ê°€?

  # CI/CDì—ì„œ ë°°í¬ ì „ ì²´í¬
  REQUIRED_ENVS:
    - NEXT_PUBLIC_SUPABASE_URL     # ì—†ìœ¼ë©´ DB ì—°ê²° ì‹¤íŒ¨
    - NEXT_PUBLIC_SUPABASE_ANON_KEY # ì—†ìœ¼ë©´ ì¸ì¦ ì‹¤íŒ¨
    - OPENAI_API_KEY                # ì—†ìœ¼ë©´ ë²ˆì—­ ì‹¤íŒ¨
    - EMAIL_SERVICE_API_KEY         # ì—†ìœ¼ë©´ ì´ë©”ì¼ ë°œì†¡ ì‹¤íŒ¨

  ì‹¤ì œ ì˜ˆì‹œ:
  - âŒ í˜„ì¬: ë°°í¬ ì„±ê³µ â†’ í”„ë¡œë•ì…˜ì—ì„œ "ë²ˆì—­ ì‹¤íŒ¨" ì—ëŸ¬
  - âœ… ê°œì„ : CIì—ì„œ ì‹¤íŒ¨ â†’ "OPENAI_API_KEY missing" â†’ ë°°í¬ ì¤‘ë‹¨

  ---
  2ï¸âƒ£ Gitleaks - ì‹œí¬ë¦¿ ìœ ì¶œ ë°©ì§€

  ì™œ í•„ìš”í•œê°€?

  ì‹¤ì œ ë°œìƒí•œ ì‚¬ë¡€:
  // page-complete.tsx (ì‹¤ì œë¡œ ìˆì—ˆë˜ ì½”ë“œ)
  const SUPABASE_KEY = 'eyJhbGc...' // ğŸš¨ GitHubì— ë…¸ì¶œ!

  ì´ëŸ° ì‹¤ìˆ˜ê°€ ë°œìƒí•˜ë©´:
  1. GitHubì— í‘¸ì‹œ â†’ ì¦‰ì‹œ ì „ ì„¸ê³„ ê³µê°œ
  2. ë´‡ì´ ìë™ ìˆ˜ì§‘ â†’ í•´ì»¤ê°€ DB ì ‘ê·¼
  3. ê³ ê° ë°ì´í„° ìœ ì¶œ â†’ ë²•ì  ì±…ì„ + ì†í•´ë°°ìƒ

  Gitleaksê°€ í•˜ëŠ” ì¼:

  # íŒ¨í„´ ê°ì§€ ì˜ˆì‹œ
  - API Key íŒ¨í„´: "sk-[a-zA-Z0-9]{48}"
  - AWS Key: "AKIA[0-9A-Z]{16}"
  - Private Key: "-----BEGIN RSA PRIVATE KEY-----"
  - Password: password = "ì‹¤ì œë¹„ë°€ë²ˆí˜¸"

  ì°¨ë‹¨ ì˜ˆì‹œ:
  âŒ Gitleaks found 1 leak:
  File: src/config.ts
  Line 5: const API_KEY = "sk-proj-abcd1234..."
  ì»¤ë°‹ ì°¨ë‹¨ë¨! í™˜ê²½ë³€ìˆ˜ë¡œ ë³€ê²½í•˜ì„¸ìš”.

  ---
  3ï¸âƒ£ í”„ë¦¬ë·° í™˜ê²½ ë³´í˜¸ (SEO/í¬ë¡¤ë§ ì°¨ë‹¨)

  ğŸ¯ ì¤‘ìš”: í”„ë¡œë•ì…˜ê³¼ í”„ë¦¬ë·°ëŠ” ë‹¤ë¦…ë‹ˆë‹¤!

  í™˜ê²½ êµ¬ë¶„:
  - í”„ë¡œë•ì…˜ (duly.co.kr): SEO í•„ìš” âœ…, ê³µê°œ ì ‘ê·¼ âœ…
  - í”„ë¦¬ë·° (feature-xyz.vercel.app): SEO ì°¨ë‹¨ â›”, íŒ€ë§Œ ì ‘ê·¼ ğŸ”’
  - ë¡œì»¬ (localhost:3000): ê°œë°œìë§Œ ì ‘ê·¼

  ì™œ í”„ë¦¬ë·°ë¥¼ ë³´í˜¸í•´ì•¼ í•˜ë‚˜?

  ì‹¤ì œ ë°œìƒ ê°€ëŠ¥í•œ ë¬¸ì œ:
  1. Googleì´ í”„ë¦¬ë·° URL ì¸ë±ì‹± â†’ "ë‘ë¦¬ë¬´ì—­ í…ŒìŠ¤íŠ¸" ê²€ìƒ‰ ê²°ê³¼ ë…¸ì¶œ
  2. í…ŒìŠ¤íŠ¸ ë°ì´í„° "ê°€ì§œ íšŒì‚¬" â†’ ì‹¤ì œ íšŒì‚¬ë¡œ ì˜¤í•´
  3. ê°œë°œ ì¤‘ ì—ëŸ¬ í˜ì´ì§€ â†’ íšŒì‚¬ ì‹ ë¢°ë„ í•˜ë½

  ì–´ë–»ê²Œ êµ¬ë¶„í•´ì„œ ë³´í˜¸í•˜ë‚˜?

  // middleware.ts
  export function middleware(request: NextRequest) {
    const response = NextResponse.next()

    // Vercel í™˜ê²½ë³€ìˆ˜ë¡œ ìë™ êµ¬ë¶„
    if (process.env.VERCEL_ENV === 'production') {
      // âœ… í”„ë¡œë•ì…˜: SEO í—ˆìš©, ê³µê°œ ì ‘ê·¼
      // ì•„ë¬´ê²ƒë„ ì•ˆ í•¨ - ì •ìƒì ìœ¼ë¡œ í¬ë¡¤ë§/ì¸ë±ì‹±

    } else if (process.env.VERCEL_ENV === 'preview') {
      // â›” í”„ë¦¬ë·°: í¬ë¡¤ë§ ì°¨ë‹¨ + íŒ€ ì¸ì¦
      response.headers.set('X-Robots-Tag', 'noindex, nofollow')

      // ê¸°ë³¸ ì¸ì¦ (íŒ€ë§Œ ì•Œê³  ìˆëŠ” ID/PW)
      const auth = request.headers.get('authorization')
      if (!auth) {
        return new Response('Team access only', {
          status: 401,
          headers: { 'WWW-Authenticate': 'Basic' }
        })
      }
    }

    return response
  }

  SEO/AI ê²€ìƒ‰(Grounding) ì˜í–¥:

  | í™˜ê²½   | URL            | SEO  | AI ê²€ìƒ‰ | ì ‘ê·¼       |
  |------|----------------|------|-------|----------|
  | í”„ë¡œë•ì…˜ | duly.co.kr     | âœ… í—ˆìš© | âœ… í—ˆìš©  | ğŸŒ ì „ì²´ ê³µê°œ |
  | í”„ë¦¬ë·°  | xxx.vercel.app | â›” ì°¨ë‹¨ | â›” ì°¨ë‹¨  | ğŸ”’ íŒ€ë§Œ    |
  | ë¡œì»¬   | localhost      | -    | -     | ğŸ’» ê°œë°œìë§Œ  |

  ê²°ë¡ : í”„ë¡œë•ì…˜ SEOëŠ” ì „í˜€ ì˜í–¥ ì—†ìŒ! ì˜¤ì§ í…ŒìŠ¤íŠ¸ í™˜ê²½ë§Œ ë³´í˜¸

  ---
  4ï¸âƒ£ ìŠ¤ëª¨í¬ í…ŒìŠ¤íŠ¸ (ë°°í¬ í›„ ê²€ì¦)

  ì™œ í•„ìš”í•œê°€?

  í˜„ì¬ ë¬¸ì œ:
  âœ… ë¹Œë“œ ì„±ê³µ
  âœ… ë°°í¬ ì„±ê³µ
  âœ… Vercel "Ready" í‘œì‹œ
  âŒ ì‹¤ì œ ì‚¬ì´íŠ¸: 500 Internal Server Error

  ê³ ê°ì´ ë¨¼ì € ë°œê²¬ = ìµœì•…ì˜ ì‹œë‚˜ë¦¬ì˜¤

  ìŠ¤ëª¨í¬ í…ŒìŠ¤íŠ¸ê°€ í•˜ëŠ” ì¼:

  # ë°°í¬ ì§í›„ ìë™ ì‹¤í–‰
  1. í™ˆí˜ì´ì§€ ì ‘ì† â†’ 200 OK í™•ì¸
  2. /api/health â†’ DB ì—°ê²° í™•ì¸
  3. /api/auth/session â†’ ì¸ì¦ ì‹œìŠ¤í…œ í™•ì¸
  4. í•µì‹¬ í˜ì´ì§€ 5ê°œ â†’ ë¡œë”© í™•ì¸

  í•˜ë‚˜ë¼ë„ ì‹¤íŒ¨ â†’ ìë™ ë¡¤ë°±

  ì‹¤ì œ ì˜ˆì‹œ:
  ğŸ” Smoke Testing...
  âœ… https://duly.co.kr â†’ 200 OK
  âœ… /api/health â†’ {"db": "connected"}
  âœ… /dashboard â†’ 200 OK
  âŒ /api/translate â†’ 500 Error
  âš ï¸ ë¡¤ë°± ì‹œì‘... ì´ì „ ë²„ì „ìœ¼ë¡œ ë³µêµ¬

  ---
  5ï¸âƒ£ Supabase RLS ê²€ì¦

  RLS(Row Level Security)ë€?

  ë°ì´í„°ë² ì´ìŠ¤ ë ˆë²¨ ë³´ì•ˆ - "ëˆ„ê°€ ì–´ë–¤ ë°ì´í„°ë¥¼ ë³¼ ìˆ˜ ìˆëŠ”ê°€"

  ì™œ ì¹˜ëª…ì ì¸ê°€?

  RLS ì—†ëŠ” ê²½ìš°:
  -- ëª¨ë“  ì‚¬ìš©ìê°€ ëª¨ë“  ì£¼ë¬¸ ì¡°íšŒ ê°€ëŠ¥!
  SELECT * FROM orders;
  -- ê²°ê³¼: íƒ€ íšŒì‚¬ ì£¼ë¬¸ì„œê¹Œì§€ ëª¨ë‘ ë…¸ì¶œ

  RLS ìˆëŠ” ê²½ìš°:
  -- ìê¸° íšŒì‚¬ ì£¼ë¬¸ë§Œ ì¡°íšŒ ê°€ëŠ¥
  SELECT * FROM orders;
  -- ê²°ê³¼: user_idê°€ ì¼ì¹˜í•˜ëŠ” ê²ƒë§Œ ë°˜í™˜

  ê²€ì¦ì´ í•˜ëŠ” ì¼:

  # CI/CDì—ì„œ ì²´í¬
  1. ëª¨ë“  í…Œì´ë¸” RLS í™œì„±í™” í™•ì¸
     âŒ users í…Œì´ë¸”: RLS disabled â†’ ë°°í¬ ì¤‘ë‹¨!

  2. ì •ì±… ì¡´ì¬ í™•ì¸
     âŒ orders í…Œì´ë¸”: No policies â†’ ë°°í¬ ì¤‘ë‹¨!

  3. ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒíƒœ
     âŒ 5ê°œ ë§ˆì´ê·¸ë ˆì´ì…˜ pending â†’ ë°°í¬ ì¤‘ë‹¨!

  ---
  ğŸ“Š ë³´ì•ˆ ê²Œì´íŠ¸ ìš°ì„ ìˆœìœ„

  | ìˆœìœ„  | ê²Œì´íŠ¸      | ìœ„í—˜ë„    | êµ¬í˜„ ë‚œì´ë„ | ì¦‰ì‹œ í•„ìš”? |
  |-----|----------|--------|--------|--------|
  | 1   | Gitleaks | ğŸ”´ ì¹˜ëª…ì  | â­ ì‰¬ì›€   | âœ… YES  |
  | 2   | ENV ê²€ì¦   | ğŸ”´ ì¹˜ëª…ì  | â­ ì‰¬ì›€   | âœ… YES  |
  | 3   | RLS ê²€ì¦   | ğŸ”´ ì¹˜ëª…ì  | â­â­ ë³´í†µ  | âœ… YES  |
  | 4   | ìŠ¤ëª¨í¬ í…ŒìŠ¤íŠ¸  | ğŸŸ¡ ë†’ìŒ  | â­â­ ë³´í†µ  | âœ… YES  |
  | 5   | í”„ë¦¬ë·° ë³´í˜¸   | ğŸŸ¢ ì¤‘ê°„  | â­ ì‰¬ì›€   | âš ï¸ ì„ íƒ  |
  